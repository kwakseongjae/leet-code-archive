# LeetCode 문제: 1148. 게시글 조회 I (Article Views I)

## 문제 설명

테이블: `Views`

```
+---------------+---------+
| Column Name   | Type    |
+---------------+---------+
| article_id    | int     |
| author_id     | int     |
| viewer_id     | int     |
| view_date     | date    |
+---------------+---------+
```

이 테이블에는 기본 키가 없으며, 중복된 행이 있을 수 있습니다.
각 행은 어떤 독자가 특정 날짜에 어떤 저자가 작성한 게시글을 조회했음을 나타냅니다.
참고로 author_id와 viewer_id가 같으면 동일한 사람을 나타냅니다.

자신의 게시글을 최소 한 번 이상 조회한 모든 저자를 찾는 SQL 쿼리를 작성하세요.

결과 테이블을 `id` 기준 오름차순으로 정렬하여 반환하세요.

**예시:**

```
입력: 
Views 테이블:
+------------+-----------+-----------+------------+
| article_id | author_id | viewer_id | view_date  |
+------------+-----------+-----------+------------+
| 1          | 3         | 5         | 2019-08-01 |
| 1          | 3         | 6         | 2019-08-02 |
| 2          | 7         | 7         | 2019-08-01 |
| 2          | 7         | 6         | 2019-08-02 |
| 4          | 7         | 1         | 2019-07-22 |
| 3          | 4         | 4         | 2019-07-21 |
| 3          | 4         | 4         | 2019-07-21 |
+------------+-----------+-----------+------------+

출력: 
+------+
| id   |
+------+
| 4    |
| 7    |
+------+
```

## 풀이

```sql
SELECT DISTINCT author_id AS id
FROM Views
WHERE author_id = viewer_id
ORDER BY id;
```

## 설명

이 문제는 자신의 게시글을 최소 한 번 이상 조회한 모든 저자를 찾는 문제입니다. 해당 목표를 달성하기 위해 다음과 같은 작업이 필요합니다:
1. 저자와 조회자가 동일한 사람인 기록 찾기
2. 중복 없이 저자 ID 반환하기
3. 결과를 ID 기준 오름차순으로 정렬하기

해결책은 다음과 같이 분석할 수 있습니다:

1. `SELECT DISTINCT author_id AS id`: author_id 열을 선택하고 문제에서 요구하는 대로 'id'로 이름을 바꿉니다. DISTINCT 키워드는 저자가 자신의 게시글을 여러 번 조회했더라도 각 저자를 한 번만 얻을 수 있도록 합니다.

2. `FROM Views`: Views 테이블을 쿼리합니다.

3. `WHERE author_id = viewer_id`: 이것은 저자가 자신의 게시글을 조회했을 때를 식별하는 핵심 조건입니다. author_id가 viewer_id와 같을 때, 게시글을 작성한 사람과 그것을 조회한 사람이 동일하다는 의미입니다.

4. `ORDER BY id`: 마지막으로, 요구사항대로 저자 ID를 기준으로 오름차순 정렬합니다.

### DISTINCT가 필요한 이유

예시 데이터에서 저자 4는 같은 날짜에 자신의 게시글을 두 번 조회했습니다. DISTINCT 키워드가 없다면, 이 저자는 결과에 두 번 나타날 것입니다. DISTINCT를 사용함으써 저자가 자신의 게시글을 몇 번 조회했는지에 관계없이 각 저자를 한번만 출력할 수 있습니다.

### 대안적 접근법

이 문제를 해결하는 다른 방법은 DISTINCT 대신 GROUP BY를 사용하는 것입니다:

```sql
SELECT author_id AS id
FROM Views
WHERE author_id = viewer_id
GROUP BY author_id
ORDER BY id;
```

이 접근법도 중복을 제거하지만, 단순한 중복 제거 작업에는 DISTINCT가 더 직관적이고 일반적으로 사용됩니다.

## 시간 복잡도

- O(n log n): n은 Views 테이블의 행 수입니다. 이것은 정렬 작업을 포함합니다.

## 공간 복잡도

- O(m): m은 자신의 게시글을 조회한 고유한 저자의 수입니다.

## 주요 학습 포인트

1. 중복을 제거하기 위한 DISTINCT 키워드 사용
2. WHERE 절에서 동등 조건 적용하기
3. AS 키워드로 열 이름 바꾸기
4. ORDER BY로 결과 정렬하기